{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"ArgoCD","text":"<p>ArgoCD is a tool created by Intuit, that is focused on deploying and managing workloads on Kubernetes. Intuit believe configuration/definition/deployment data for apps and environments should be declarative</p>"},{"location":"#argocd-components","title":"ArgoCD Components","text":"<ul> <li>Kubernetes Cluster</li> <li>ArgoCD Service/Application</li> <li>Git Repository</li> <li>Webhooks</li> </ul>"},{"location":"#argocd-applicaiton-lifestyle","title":"ArgoCD Applicaiton Lifestyle","text":"<ul> <li>The output of CI should be deployable k8s config stored in a git repo</li> <li>k8s config defines an ArgoCD Application custom resource definition</li> <li>When this config is added to the git repo, ArgoCD receives a webhook request</li> <li>ArgoCD synchronizes with the git repo<ul> <li>A git pull</li> <li>Compares what should be running with what is running</li> <li>(Re-)Deploys updated applications</li> </ul> </li> <li>ArgoCD supports pre and post sync hooks<ul> <li>Helm chart hooks don't work</li> <li>ArgoCD is essentially doing <code>helm template | kubectl -f -</code></li> </ul> </li> <li>Any changes in the k8s config will cause an application to re-deploy<ul> <li>Things you want to cause a re-deploy: docker image tag, helm chart version number</li> <li>Things you may not want: dates, timestamps, any random string</li> </ul> </li> <li>Undeploy by removing the application from the git repo or it can be configured</li> <li>The git repo is the source of truth for how things should be deployed</li> <li>The ArgoCD UI (or metrics) is the source of trught for any deployment state</li> <li>The ArgoCD Application CR can point to another Application CI and so on</li> <li>ArgoCD can be configured to access other Kubernetes clusters<ul> <li>Application belong to a project, a project can target an external k8s cluster</li> </ul> </li> <li>Supports custom deployment methods<ul> <li>Blue/Green, Canary</li> <li>ArgoRollouts</li> </ul> </li> </ul>"},{"location":"argocd/","title":"Install Argo CD","text":"<pre><code>kubectl create namespace argocd\nkubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml\n</code></pre> <p>This will create a new namespace, argocd, where Argo CD services and application resources will live.</p>"}]}